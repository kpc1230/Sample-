<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title>Session Navigator</title>

    <link rel="stylesheet" href="//aui-cdn.atlassian.com/aui-adg/6.0.6/css/aui.min.css" media="all"></link>
    <link rel="stylesheet" href="//aui-cdn.atlassian.com/aui-adg/6.0.6/css/aui-experimental.min.css" media="all"></link>
    <link rel="stylesheet" th:href="${captureUIBaseUrl} + '/css/ProjectTestSessions/ProjectTestSessions.css'" media="all"></link>
</head>
<body>
    
    <div id="root" th:attr="data-projectkey=${projectKey}, data-projectid=${projectId}"></div>
    
<script type="text/javascript" th:inline="javascript" id="connect-loader" data-options="sizeToParent:true;">
    //<![CDATA[

    (function() {
        var getUrlParam = function (param) {
            var codedParam = (new RegExp(param + '=([^&]*)')).exec(window.location.search)[1];
            return decodeURIComponent(codedParam);
        };

        var baseUrl = getUrlParam('xdm_e') + getUrlParam('cp');
        var options = document.getElementById('connect-loader').getAttribute('data-options');

        var script = document.createElement("script");
        script.src = baseUrl + '/atlassian-connect/all.js';

        var style = document.createElement("link");
        style.rel = "stylesheet";
        style.href = baseUrl + '/atlassian-connect/all.css';
        if(options) {
            script.setAttribute('data-options', options);
        }

        document.getElementsByTagName("head")[0].appendChild(script);
        document.getElementsByTagName("head")[0].appendChild(style);

        document.getElementById('root').dataset['baseurl'] = baseUrl;
        
    })();

    // ]]>
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//aui-cdn.atlassian.com/aui-adg/6.0.6/js/aui.min.js"></script>
<script src="//aui-cdn.atlassian.com/aui-adg/6.0.6/js/aui-experimental.min.js"></script>

<script th:src="@{js/utils/i18n.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/

    var i18nMessages = /*[[${messages}]]*/ 'messages';
    initI18nMessages(i18nMessages);

/*]]>*/
</script>

<script defer="defer" type="text/javascript" th:src="${captureUIBaseUrl} + '/js/ProjectTestSessions/ProjectTestSessions.js'" />

</body>
</html>